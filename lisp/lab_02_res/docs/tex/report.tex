\documentclass[12pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
%\usepackage[14pt]{extsizes}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools} 
\usepackage{pgfplots}
\usepackage{filecontents}
\usepackage{float}
\usepackage{indentfirst}
\usepackage{eucal}
\usepackage{enumitem}
\usepackage{tasks}

%s\documentclass[openany]{book}
\frenchspacing

\usepackage{indentfirst} % Красная строка

\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}

\usepackage{amsmath}


% Для листинга кода:
\lstset{ %
	language=c,                 % выбор языка для подсветки (здесь это С)
	basicstyle=\small\sffamily, % размер и начертание шрифта для подсветки кода
	numbers=left,               % где поставить нумерацию строк (слева\справа)
	numberstyle=\tiny,           % размер шрифта для номеров строк
	stepnumber=1,                   % размер шага между двумя номерами строк
	numbersep=5pt,                % как далеко отстоят номера строк от подсвечиваемого кода
	showspaces=false,            % показывать или нет пробелы специальными отступами
	showstringspaces=false,      % показывать или нет пробелы в строках
	showtabs=false,             % показывать или нет табуляцию в строках
	frame=single,              % рисовать рамку вокруг кода
	tabsize=2,                 % размер табуляции по умолчанию равен 2 пробелам
	captionpos=t,              % позиция заголовка вверху [t] или внизу [b] 
	breaklines=true,           % автоматически переносить строки (да\нет)
	breakatwhitespace=false, % переносить строки только если есть пробел
	escapeinside={\#*}{*)}   % если нужно добавить комментарии в коде
}


\usepackage[left=2cm,right=2cm, top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
% Для измененных титулов глав:
\usepackage{titlesec, blindtext, color} % подключаем нужные пакеты
\definecolor{gray75}{gray}{0.75} % определяем цвет
\newcommand{\hsp}{\hspace{20pt}} % длина линии в 20pt
% titleformat определяет стиль
\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}


% plot
\usepackage{pgfplots}
\usepackage{filecontents}
\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}

\begin{document}
	%\def\chaptername{} % убирает "Глава"
	\thispagestyle{empty}
	\begin{titlepage}
		\noindent \begin{minipage}{0.15\textwidth}
			\includegraphics[width=\linewidth]{img/b_logo}
		\end{minipage}
		\noindent\begin{minipage}{0.9\textwidth}\centering
			\textbf{Министерство науки и высшего образования Российской Федерации}\\
			\textbf{Федеральное государственное бюджетное образовательное учреждение высшего образования}\\
			\textbf{~~~«Московский государственный технический университет имени Н.Э.~Баумана}\\
			\textbf{(национальный исследовательский университет)»}\\
			\textbf{(МГТУ им. Н.Э.~Баумана)}
		\end{minipage}
		
		\noindent\rule{18cm}{3pt}
		\newline\newline
		\noindent ФАКУЛЬТЕТ $\underline{\text{«Информатика и системы управления»}}$ \newline\newline
		\noindent КАФЕДРА $\underline{\text{«Программное обеспечение ЭВМ и информационные технологии»}}$\newline\newline\newline\newline\newline
		
		\begin{center}
			\noindent\begin{minipage}{1.1\textwidth}\centering
				\Large\textbf{  Отчет по лабораторной работе №2}\newline
				\textbf{по дисциплине <<Функциональное и логическое}\newline
				\textbf{~~~программирование>>}\newline\newline
			\end{minipage}
		\end{center}
		
		\noindent\textbf{Тема} $\underline{\text{Определение функций пользователя}}$\newline\newline
		\noindent\textbf{Студент} $\underline{\text{Криков А.В.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}$\newline\newline
		\noindent\textbf{Группа} $\underline{\text{ИУ7-63Б~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}$\newline\newline
		\noindent\textbf{Оценка (баллы)} $\underline{\text{~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}$\newline\newline
		\noindent\textbf{Преподаватель} $\underline{\text{Толпинская Н.Б., Строганов Ю.В.~~~~~~~~~~~~~~~~~~~~~~~~~~~~}}$\newline\newline\newline
		
		\begin{center}
			\vfill
			Москва~---~\the\year
			~г.
		\end{center}
	\end{titlepage}
	
	
	\chapter*{Практические задания}

\begin{enumerate}[wide=0pt]
\item \textit{Составить диаграмму вычисления следующих выражений:}
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(equal 3 (abs - 3))|
	\task \lstinline|(equal (+ 1 2) 3)|
	\task \lstinline|(equal (* 4 7) 21)|
	\task \lstinline|(equal (* 2 3) (+ 7 2))|
	\task \lstinline|(equal (- 7 3) (* 3 2))|
	\task \lstinline|(equal (abs (- 2 4)) 3)|
\end{tasks}
Решение представлено на отдельном листе и приложено к отчету.
\item \textit{Написать функцию, вычисляющую гипотенузу прямоугольного треугольника по заданным катетам и составить диаграмму её вычисления.}
\begin{lstlisting}
(defun hyp (x y) (sqrt (+ (* x x) (* y y))))
\end{lstlisting}
Диаграмма вычисления представлена на отдельном листе и приложена к отчету.
\item \textit{Написать функцию, вычисляющую объем параллелепипеда по 3-м его сторонам, и составить диаграмму ее вычисления.}
\begin{lstlisting}
(defun vol (a b c) (* a b c))
\end{lstlisting}
Диаграмма вычисления представлена на отдельном листе и приложена к отчету.
\item \textit{Каковы результаты вычисления следующих выражений?(объяснить возможную ошибку и
варианты ее устранения)}
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(list 'a c)|
	\task \lstinline|(cons 'a (b c))|
	\task \lstinline|(cons 'a '(b c))|
	\task \lstinline|(caddy (1 2 3 4 5))|
	\task \lstinline|(cons 'a 'b 'c)|
	\task \lstinline|(list 'a (b c))|
	\task \lstinline|(list a '(b c))|
	\task \lstinline|(list (+ 1 '(length '(1 2 3))))|
\end{tasks}
Решения:
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt]
	\task Переменная \lstinline|c| не определена. Возможное устранение ошибки: \lstinline|(list 'a 'c)|
	\task Переменные \lstinline|b c| не определены. Возможное устранение ошибки: \lstinline|(cons 'a '(b c))|
	\task \lstinline|((A B C)|
	\task Функция \lstinline|caddy| не определена. Возможное устранение ошибки: \lstinline|(caddr '(1 2 3 4 5))|
	\task Функция \lstinline|cons| принимает два параметра. Возможное устранение ошибки: \lstinline|(cons 'a '(b c))| или \lstinline|(cons 'a (list 'b 'c))|
	\task Переменные \lstinline|b, c| не определены. Возможное устранение ошибки: \lstinline|(list 'a '(b c))|
	\task \lstinline|(A (B C))|
	\task Поскольку введен запрет на вычисление (quote), конструкция \lstinline|length '(1 2 3)))| будет интерпретирована как данные, а не как функция. Возможное устранение ошибки: \lstinline|(list (+ 1 (length '(1 2 3))))|
\end{tasks}
\item \textit{Написать функцию} \lstinline|longer-then| \textit{от двух списков-аргументов, которая возвращает Т, если первый аргумент имеет большую длину.}
\begin{lstlisting}
(defun longer-then(f s)(> (length f)(length s)))
\end{lstlisting}
\item \textit{Каковы результаты вычисления следующих выражений?}
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(cons 3 (list 5 6))| 
	\task \lstinline|(list 3 'from 9 'lives (- 9 3))|
	\task \lstinline|(+ (length for 2 too)) (car '(21 22 23)))|
	\task \lstinline|(cdr '(cons is short for ans))|
	\task \lstinline|(car (list one two))| 
	\task \lstinline|(cons 3 '(list 5 6))|
	\task \lstinline|(car (list 'one 'two))|
\end{tasks}
Решения:
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(3 5 6)| 
	\task \lstinline|(3 from 9 lives 6)|
	\task  Переменная \lstinline|FOR| не определена.
	\task \lstinline|(is short for ans)|
	\task Переменная \lstinline|ONE| не определена.
	\task \lstinline|(3 list 5 6)|
	\task \lstinline|one|
\end{tasks}
\item \textit{Дана функция} \lstinline|(defun mystery (x) (list (second x) (first x)))|. \textit{Какие результаты вычисления следующих выражений?}
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(mystery (one two))| 
	\task \lstinline|(mystery (last one two))|
	\task \lstinline|(mystery free)|
	\task \lstinline|(mystery one 'two))|
\end{tasks}
Решения:
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task Переменная \lstinline|ONE| не определена.
	\task Переменная \lstinline|ONE| не определена.
	\task Переменная \lstinline|FREE| не определена.
	\task Переменная \lstinline|ONE| не определена. 
\end{tasks}
\item \textit{Написать функцию, которая переводит температуру в системе Фаренгейта
температуру по Цельсию} \lstinline|(defun f-to-c (temp)...)|.
\begin{lstlisting}
(defun f-to-c (temp)( * (/ 5 9)(- temp 32.0)))
\end{lstlisting}
Как бы назывался роман Р.Брэдбери "+451 по Фаренгейту" в системе по Цельсию? \\
Ответ: 232.77779 по Цельсию.
\item Что получится при вычисления каждого из выражений?
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(list 'cons t NIL)|
	\task \lstinline|(eval (eval (list 'cons t NIL)))|
	\task \lstinline|(eval (list 'cons t NIL))|
	\task \lstinline|(apply #cons "(t NIL))|
	\task \lstinline|(list 'eval NIL)|
	\task \lstinline|(eval NIL)|
	\task \lstinline|(eval (list 'eval NIL))|
\end{tasks}
Решения:
\begin{tasks}[label=\arabic*), item-indent=3pt, after-item-skip=1pt](2)
	\task \lstinline|(cons t NIL)|
	\task Переменная \lstinline|t| не определена.
	\task \lstinline|t|
	\task Неподдерживаемый синтаксис: \lstinline|#cons|
	\task \lstinline|(eval NIL)|
	\task \lstinline|NIL|
	\task \lstinline|NIL|
\end{tasks}
\item Дополнительно:
\begin{enumerate}[wide=0pt]
	\item Написать функцию, вычисляющую катет по заданной гипотенузе и другому катету
	прямоугольного треугольника, и составить диаграмму ее вычисления. \\
	\begin{lstlisting}
(defun cathet (b c) (sqrt ( - (* c c) (* b b))))
	\end{lstlisting}
	Диаграмма вычисления представлена на отдельном листе и приложена к отчету.
	\item Написать функцию, вычисляющую площадь трапеции по ее основаниям и
	высоте, и составить диаграмму ее вычисления. \\
	\begin{lstlisting}
(defun trap_square (a b h) (* (/ (+ a b) 2) h))
	\end{lstlisting}
	Диаграмма вычисления представлена на отдельном листе и приложена к отчету.
\end{enumerate}
\end{enumerate}


\chapter*{Контрольные вопросы}

\begin{enumerate}[wide=0pt]
\item \textit{Базис Lisp.} \\
\begin{enumerate}
	\item атомы и структуры (представляющиеся бинарными узлами);
	\item несколько базовых функций и функционалов: встроенные --- примитивные функции (atom, eq, cons, car, cdr); специальные функции и функционалы (quote, cond, lambda, eval, apply, funcall).
\end{enumerate}
\item \textit{Классификация функций.} \\
\begin{enumerate}
	\item чистые (математические) функции: имеют фиксированное количество
	аргументов и в качестве возврата единственное значение;
	\item рекурсивные функции;
	\item специальные функции (формы): имеют произвольное количество
	аргументов, либо эти аргументы обрабатываются не все одинаково;
	\item псевдофункции: функции, эффект которых виден на внешних
	устройствах;
	\item функции с вариантными значениями, из которых выбирается одно;
	\item функции высших порядков (функционалы) используются для
	построения синтаксически-управляемых программ, в качестве одного
	из аргументов принимают описание функции.
\end{enumerate}
\item \textit{Способы создания функций} \\
Обычно функции определяются при помощи макроса DEFUN. В качестве имени может использоваться любой символ. Как правило, имена функций содержат только буквы, цифры и знак минус. Список параметров функции определяет переменные, которые будут использоваться для хранения аргументов, переданных при вызове функции. Тело DEFUN состоит из любого числа выражений Lisp. 
\item \textit{Функции Car и Cdr} \\
Функция car служит для вывода первого элемента списка, а cdr --- для вывода всех элементов, кроме первого.
\item \textit{Назначение и отличие в работе Cons и List} \\
Функция cons принимает два аргумента и создаёт бинарный узел, первая ячейка которого указывает на первый переданный аргумент, а вторая ячейка --- на второй. \\
Функция list не имеет ограничений по количеству передаваемых ей аргументов. Данная функция создаёт список, элементами которого являются все переданные функции аргументы. \\
cons работает эффективнее list, list описан с использованием cons.
\end{enumerate}

	\bibliographystyle{utf8gost705u}  % стилевой файл для оформления по ГОСТу
	
	\bibliography{51-biblio}          % имя библиографической базы (bib-файла)
	
	
\end{document}
